<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" width="1200" height="800">
  <g>
    <rect id="swimlane-Core System" class="swimlane" x="20" y="170" width="1160" height="120" fill="#ffffff" stroke="#e5e7eb" stroke-width="1"/>
    <text class="swimlane-label" x="30" y="195" font-family="ui-sans-serif, system-ui, sans-serif" font-size="14" fill="#1f2937" font-weight="bold" text-anchor="start">Core System</text>
  </g>
  <g>
    <rect id="swimlane-User Interface" class="swimlane" x="20" y="20" width="1160" height="120" fill="#ffffff" stroke="#e5e7eb" stroke-width="1"/>
    <text class="swimlane-label" x="30" y="45" font-family="ui-sans-serif, system-ui, sans-serif" font-size="14" fill="#1f2937" font-weight="bold" text-anchor="start">User Interface</text>
  </g>
  <path id="connector-UpdateSettings-ValidateSettings" class="connector" d="M 525 80 L 675 230" fill="none" stroke="#6b7280" stroke-width="2"/>
  <path id="connector-ValidateSettings-SettingsUpdated" class="connector" d="M 675 230 L 225 230" fill="none" stroke="#6b7280" stroke-width="2"/>
  <path id="connector-SettingsUpdated-UserPreferences" class="connector" d="M 225 230 L 525 230" fill="none" stroke="#6b7280" stroke-width="2"/>
  <path id="connector-GetUserPreferences-UserPreferences" class="connector" d="M 675 80 L 525 230" fill="none" stroke="#6b7280" stroke-width="2"/>
  <path id="connector-UserPreferences-PreferencesLoaded" class="connector" d="M 525 230 L 375 230" fill="none" stroke="#6b7280" stroke-width="2"/>
  <path id="connector-SettingsUpdated-NotificationService" class="connector" d="M 225 230 L 825 230" fill="none" stroke="#6b7280" stroke-width="2"/>
  <path id="connector-NotificationService-PreferencesLoaded" class="connector" d="M 825 230 L 375 230" fill="none" stroke="#6b7280" stroke-width="2"/>
  <g id="entity-group-SettingsUpdated">
    <rect id="entity-SettingsUpdated" class="entity" x="165" y="200" width="120" height="60" rx="8" ry="8" fill="#fff7ed" stroke="#fb923c" stroke-width="2"/>
    <text class="entity-text" x="225" y="230" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">SettingsUpdated</text>
  </g>
  <g id="entity-group-ValidateSettings">
    <rect id="entity-ValidateSettings" class="entity" x="615" y="200" width="120" height="60" rx="8" ry="8" fill="#f0fdfa" stroke="#14b8a6" stroke-width="2"/>
    <text class="entity-text" x="675" y="230" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">ValidateSettings</text>
  </g>
  <g id="entity-group-GetUserPreferences">
    <rect id="entity-GetUserPreferences" class="entity" x="615" y="50" width="120" height="60" rx="8" ry="8" fill="#f3e8ff" stroke="#9333ea" stroke-width="2"/>
    <text class="entity-text" x="675" y="80" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">GetUserPreferences</text>
  </g>
  <g id="entity-group-UserPreferences">
    <rect id="entity-UserPreferences" class="entity" x="465" y="200" width="120" height="60" rx="8" ry="8" fill="#dbeafe" stroke="#0969da" stroke-width="2"/>
    <text class="entity-text" x="525" y="230" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">UserPreferences</text>
  </g>
  <g id="entity-group-NotificationService">
    <rect id="entity-NotificationService" class="entity" x="765" y="200" width="120" height="60" rx="8" ry="8" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
    <text class="entity-text" x="825" y="230" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">NotificationService</text>
  </g>
  <g id="entity-group-UserSettings">
    <rect id="entity-UserSettings" class="entity" x="915" y="200" width="120" height="60" rx="8" ry="8" fill="#dbeafe" stroke="#0969da" stroke-width="2"/>
    <text class="entity-text" x="975" y="230" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">UserSettings</text>
  </g>
  <g id="entity-group-PreferencesLoaded">
    <rect id="entity-PreferencesLoaded" class="entity" x="315" y="200" width="120" height="60" rx="8" ry="8" fill="#fff7ed" stroke="#fb923c" stroke-width="2"/>
    <text class="entity-text" x="375" y="230" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">PreferencesLoaded</text>
  </g>
  <g id="entity-group-UpdateSettings">
    <rect id="entity-UpdateSettings" class="entity" x="465" y="50" width="120" height="60" rx="8" ry="8" fill="#dbeafe" stroke="#0969da" stroke-width="2"/>
    <text class="entity-text" x="525" y="80" font-family="Arial, sans-serif" font-size="14" fill="#000000" font-weight="normal" text-anchor="middle">UpdateSettings</text>
  </g>
</svg>
